f T (l : Old.list T) : New.list T :=
  Old.list_rect T
    (fun (l : Old.list T) => New.list T)
    New.nil
    (fun (t : T) _ (IHl : New.list T) =>
      New.cons T t IHl)
    l.

Lemma section:
  $\forall$ T (l : Old.list T), g T (f T l) = l.
Proof.
  intros T l. symmetry. induction l.
  - reflexivity.
  - simpl. rewrite $\leftarrow$ IHl. reflexivity.
Defined.

g T (l : New.list T) : Old.list T :=
  New.list_rect T
    (fun (l : New.list T) => Old.list T)
    (fun (t : T) _ (IHl : Old.list T) =>
      Old.cons T t IHl)
    Old.nil
    l.

Lemma retraction:
  $\forall$ T (l : New.list T), f T (g T l) = l.
Proof.
  intros T l. symmetry. induction l.
  - simpl. rewrite $\leftarrow$ IHl. reflexivity.
  - reflexivity.
Defined.
